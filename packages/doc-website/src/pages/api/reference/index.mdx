---
title: API Reference
titleSuffix: " | bun-workspaces"
description: "API Reference for bun-workspaces | Documentation for bun-workspaces: A CLI and API to help manage Bun monorepos"
pageType: doc
sidebar: false
outline: true
footer: false
---

import { SyntaxHighlighter } from "../../../lib/util/highlight";
import { ApiHeader } from "../../../lib/api/ApiHeader";
import { 
  CREATE_FS_PROJECT_EXAMPLE, 
  CREATE_SCRIPT_COMMAND_EXAMPLE, 
  FIND_WORKSPACE_BY_ALIAS_EXAMPLE, 
  FIND_WORKSPACE_BY_NAME_EXAMPLE, 
  FIND_WORKSPACE_BY_NAME_OR_ALIAS_EXAMPLE, 
  FIND_WORKSPACES_BY_PATTERN_EXAMPLE,
  LIST_WORKSPACES_WITH_SCRIPT_EXAMPLE,
  MAP_SCRIPTS_TO_WORKSPACES_EXAMPLE,
  RUN_SCRIPT_ACROSS_WORKSPACES_EXAMPLE,
  RUN_WORKSPACE_SCRIPT_EXAMPLE,
  SET_LOG_LEVEL_EXAMPLE,
  CREATE_MEMORY_PROJECT_EXAMPLE,
  WORKSPACE_EXAMPLE,
} from '../../../lib/api/apiExamples';

<ApiHeader activeHref="reference" />


## createFileSystemProject
`createFileSystemProject(options: CreateFileSystemProjectOptions): FileSystemProject`

Create a [FileSystemProject](/api/reference#filesystemproject), the core of `bun-workspaces`'s functionality, based on a given root directory.

This finds [Workspaces](/api/reference#workspace) by reading the project's `bun.lock` file, which means `bun install` must be run to have up-to-date 
workspace information.

It will also detect and utilize any [root configuration](/config/root) and [workspace configurations](/config/workspace) found.

<SyntaxHighlighter language="typescript">
{CREATE_FS_PROJECT_EXAMPLE}
</SyntaxHighlighter>


## Workspace

An object representing a workspace in a [Project](/api/reference#project).

Set [workspace aliases](/concepts/workspace-aliases) in the [workspace configuration](/config/workspace) to make it easier to reference workspaces.

The `dependencies` and `dependents` fields are names of other workspaces that are [dependencies](/concepts/workspace-dependencies) or dependents of this workspace, respectively.

See more on the [root workspace](/concepts/root-workspace).

<SyntaxHighlighter language="typescript">
{WORKSPACE_EXAMPLE}
</SyntaxHighlighter>

## Project

The core of `bun-workspaces`'s functionality. 
It contains a list of [Workspaces](/api/reference#workspace) and provides 
several useful methods for working with them. A Project is typically initialized at a git repository's root directory.
The Project root should contain the `package.json` file in which `"workspaces"` are defined.

Usually created via [createFileSystemProject](/api/reference#createfilesystemproject).

### .name
`type: string`

The name of the project. This is typically the name found in the root `package.json` unless otherwise provided.
<hr className="reference-divider"/>

### .rootDirectory
`type: string`

The given root directory of the project.
<hr className="reference-divider"/>

### .workspaces
`type: Workspace[]`

The list of all [Workspaces](/api/reference#workspace) in the project.
<hr className="reference-divider"/>

### .rootWorkspace
`type: Workspace`

The [root workspace](/concepts/root-workspace) of the project.
<hr className="reference-divider"/>

### .findWorkspaceByName
`findWorkspaceByName(workspaceName: string): Workspace | null`

Find a [Workspace](/api/reference#workspace) by its package.json name.
<SyntaxHighlighter language="typescript">
{FIND_WORKSPACE_BY_NAME_EXAMPLE}
</SyntaxHighlighter>

<hr className="reference-divider"/>

### .findWorkspaceByAlias
`findWorkspaceByAlias(alias: string): Workspace | null`

Find a [Workspace](/api/reference#workspace) by its [alias](/concepts/workspace-aliases), if set in its [workspace configuration](/config/workspace).
<SyntaxHighlighter language="typescript">
{FIND_WORKSPACE_BY_ALIAS_EXAMPLE}
</SyntaxHighlighter>

<hr className="reference-divider"/>

### .findWorkspaceByNameOrAlias
`findWorkspaceByNameOrAlias(nameOrAlias: string): Workspace | null`

Find a [Workspace](/api/reference#workspace) by its package.json name or [alias](/concepts/workspace-aliases), if set in its [workspace configuration](/config/workspace).

Since [aliases](/concepts/workspace-aliases) are validated to be unique to each workspace
and not clash with other workspaces' package.json names,
this method can still unambiguously find a workspace.

<SyntaxHighlighter language="typescript">
{FIND_WORKSPACE_BY_NAME_OR_ALIAS_EXAMPLE}
</SyntaxHighlighter>

<hr className="reference-divider"/>

### .findWorkspacesByPattern
`findWorkspacesByPattern(workspacePattern: string): Workspace[]`

Find a list of [Workspaces](/api/reference#workspace) by their name, using a wildcard pattern.

See more on the syntax of [workspace patterns](/concepts/workspace-patterns).
<SyntaxHighlighter language="typescript">
{FIND_WORKSPACES_BY_PATTERN_EXAMPLE}
</SyntaxHighlighter>


<hr className="reference-divider"/>

### .listWorkspacesWithScript
`listWorkspacesWithScript(scriptName: string): Workspace[]`

Get an array of all [Workspaces](/api/reference#workspace) that have a given script in their package.json "scripts" field.
<SyntaxHighlighter language="typescript">
{LIST_WORKSPACES_WITH_SCRIPT_EXAMPLE}
</SyntaxHighlighter>

<hr className="reference-divider"/>

### .mapScriptsToWorkspaces
`mapScriptsToWorkspaces(): Record<string, WorkspaceScriptMetadata>`

Get a mapping of all project script names to the [Workspaces](/api/reference#workspace) that have them in their package.json "scripts" field.
<SyntaxHighlighter language="typescript">
{MAP_SCRIPTS_TO_WORKSPACES_EXAMPLE}
</SyntaxHighlighter>

<hr className="reference-divider"/>

### .createScriptCommand
`createScriptCommand(options: CreateProjectScriptCommandOptions): CreateProjectScriptCommandResult`

Create metadata that can be used to run a [Workspace](/api/reference#workspace)'s script.

The `"method"` option changes what kind of `bun` command is implemented to run the script.
`"cd"` (the default) is generally recommended over `"filter"` in order to get full stdout/stderr output from the script.
<SyntaxHighlighter language="typescript">
{CREATE_SCRIPT_COMMAND_EXAMPLE  }
</SyntaxHighlighter>


## FileSystemProject

Inherits from [Project](/api/reference#project). Used to represent a project in the file system. Created via [createFileSystemProject](/api/reference#createfilesystemproject).

Includes methods for running scripts in the workspaces of the project.



### .runWorkspaceScript
`runWorkspaceScript(options: RunWorkspaceScriptOptions): RunWorkspaceScriptResult`

Run a script in a given workspace.

<SyntaxHighlighter language="typescript">
{RUN_WORKSPACE_SCRIPT_EXAMPLE}
</SyntaxHighlighter>

<hr className="reference-divider"/>

### .runScriptAcrossWorkspaces
`runScriptAcrossWorkspaces(options: RunScriptAcrossWorkspacesOptions): RunScriptAcrossWorkspacesResult`

Run a script in all workspaces that have it in their package.json "scripts" field.

<SyntaxHighlighter language="typescript">
{RUN_SCRIPT_ACROSS_WORKSPACES_EXAMPLE}
</SyntaxHighlighter>

### More Info

* See more on the syntax of [workspace patterns](/concepts/workspace-patterns) for selecting workspaces to run.
* See more on [workspace dependencies](/concepts/workspace-dependencies) for running scripts in dependency order.
* See more on running [inline scripts](/concepts/inline-scripts).
* See more on running [parallel scripts](/concepts/parallel-scripts).
* See more on [script runtime metadata](/concepts/script-runtime-metadata), such as environment variables available in scripts and interpolating values in inline scripts and args such as `<workspaceName>`.<br/>


## createMemoryProject
`createMemoryProject(options: CreateMemoryProjectOptions): MemoryProject`

Create a [Project](/api/reference#project) from a given array of [Workspaces](/api/reference#workspace). 

Usually used  only for testing purposes to do without the need for a real project
in the file system.

Since it doesn't read anything from the file system,
it isn't affected by [root configuration](/config/root) or [workspace configurations](/config/workspace).

A `MemoryProject` currently does not support running scripts directly, though a means of mocking script execution may be added later, considering demand.

<SyntaxHighlighter language="typescript">
{CREATE_MEMORY_PROJECT_EXAMPLE}
</SyntaxHighlighter>


## setLogLevel
`setLogLevel(level: LogLevelSetting)`

Set the global logging level. Defaults to "info" or "error" when `NODE_ENV` is "test".
<SyntaxHighlighter language="typescript">
{SET_LOG_LEVEL_EXAMPLE}
</SyntaxHighlighter>
